---
title: "Docker"
date: 2026-01-21
categories: [Computer science]
tags: [Computer science]

---

# 什么是Docker ?

Docker 是一种容器化技术可以共享主机内核，轻量、隔离且高效，不像虚拟机需要完整的操作系统。他的具体结构如下
![figure1]({{ "/assets/img/docker.png" | relative_url }})

- 上层 是多个容器（App A~F），每个容器独立运行一个应用。
- 中间层 是 Docker，负责管理这些容器。
- 底层 是主机操作系统（Host OS）和基础设施，为容器提供硬件和系统支持。

容器化技术通过将应用及其依赖打包在一起来保证在任何环境下都能一致运行, 从而容器化技术具有高移植性,跨平台性, 且启动速度快。 而具体的容器包含下面三个概念

### 1、镜像 (Image)

**定义**：镜像是一个只读的模板，包含了运行应用所需的所有内容：代码、运行时、库文件、环境变量和配置文件。

**特点**：

- **分层存储**：镜像由多个层组成，每一层代表一次修改
- **只读性**：镜像本身是只读的，不能直接修改
- **可复用**：同一个镜像可以创建多个容器
- **版本管理**：通过标签(tag)进行版本管理
  - 出问题的时候快速回到上个版本
  - 可以同时运行不同版本的image进行对比

**类比理解**：镜像就像是一个安装程序或者模板，它定义了应用运行所需的一切，但本身不能直接运行。

### 2、容器 (Container)

**定义**：容器是镜像的运行实例，是一个轻量级、可移植的执行环境。

**特点**：

- **隔离性**：每个容器都有自己的文件系统、网络和进程空间
- **临时性**：容器可以被创建、启动、停止、删除
- **可写层**：容器在镜像基础上添加了一个可写层
- **进程级**：容器内通常运行一个主进程

**类比理解**：如果镜像是类，那么容器就是对象实例。一个镜像可以创建多个容器，就像一个类可以创建多个对象。

### 3、仓库 (Repository)

**定义**：仓库是存储和分发镜像的地方，可以包含一个镜像的多个版本。

**分类**：

- **公共仓库**：如 Docker Hub，任何人都可以使用
- **私有仓库**：企业内部搭建，用于存储私有镜像
- **官方仓库**：由软件官方维护的镜像仓库

**Registry vs Repository**：

- **Registry**：仓库注册服务器，如 Docker Hub
- **Repository**：具体的镜像仓库，如 nginx、mysql
